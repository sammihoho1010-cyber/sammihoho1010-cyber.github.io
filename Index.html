<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>æˆ‘çš„èˆˆè¶£ â€” wishcore å°ç«™</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- three.js -->
  <script src="https://unpkg.com/three@0.155.0/build/three.min.js"></script>

  <style>
    :root{
      /* Colorhunt é¡å‹æŸ”å’Œé…è‰²ï¼ˆå¯è‡ªè¡Œæ›¿æ›ï¼‰ */
      --c-bg-1: #ffd6e0; /* æ·¡ç²‰ */
      --c-bg-2: #f7d7ff; /* æ·¡ç´« */
      --c-accent: #b8f2e6; /* æ·¡é’ç¶  */
      --c-dark: #2b2b3a;  /* æ·±è‰²æ–‡å­— */
      --glass: rgba(255,255,255,0.25);
      --glass-2: rgba(255,255,255,0.14);
      --card-shadow: 0 8px 30px rgba(43,43,58,0.12);
    }

    html,body{height:100%;margin:0;font-family:'Poppins',system-ui,Segoe UI,Roboto,"Noto Sans TC",sans-serif;background: linear-gradient(135deg,var(--c-bg-1),var(--c-bg-2));color:var(--c-dark);-webkit-font-smoothing:antialiased;}
    header{
      position:relative;
      height:60vh;
      min-height:420px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:48px;
      box-sizing:border-box;
      overflow:hidden;
    }
    .intro{
      max-width:520px;
      background: linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0.15));
      backdrop-filter: blur(6px);
      border-radius:18px;
      padding:28px;
      box-shadow:var(--card-shadow);
      border: 1px solid rgba(255,255,255,0.12);
    }
    .intro h1{margin:0 0 8px;font-size:2.2rem;letter-spacing:0.6px;}
    .intro p{margin:0 0 16px;line-height:1.5;color:rgba(43,43,58,0.85);font-weight:300;}
    .taglist{display:flex;gap:10px;flex-wrap:wrap;}
    .tag{padding:8px 12px;border-radius:999px;background:var(--glass-2);font-weight:600;cursor:default;transition:transform .18s ease;}
    .tag:hover{transform:translateY(-4px);}

    nav{
      position:absolute;top:18px;right:18px;display:flex;gap:10px;z-index:5;
    }
    nav button{background:transparent;border:1px solid rgba(255,255,255,0.18);padding:8px 12px;border-radius:12px;color:var(--c-dark);backdrop-filter:blur(6px);cursor:pointer;font-weight:600;}

    /* three.js canvas container */
    #three-wrap{
      width:55%;
      height:72%;
      min-width:360px;
      max-width:900px;
      border-radius:20px;
      overflow:hidden;
      box-shadow:var(--card-shadow);
      border:1px solid rgba(255,255,255,0.08);
      background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    }

    main{
      padding:36px 48px;
      display:grid;
      grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
      gap:20px;
      box-sizing:border-box;
    }
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.08));
      border-radius:14px;
      padding:18px;
      box-shadow:var(--card-shadow);
      border:1px solid rgba(255,255,255,0.06);
      transition:transform .25s ease, box-shadow .25s ease;
    }
    .card:hover{transform:translateY(-6px); box-shadow:0 20px 40px rgba(43,43,58,0.14);}
    .card h3{margin:0 0 8px;font-size:1.1rem;}
    .card p{margin:0;color:rgba(43,43,58,0.8);font-weight:300;line-height:1.45;}
    .food-list{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;}
    .food-item{padding:8px 10px;border-radius:10px;background:var(--c-accent);font-weight:600;color:var(--c-dark);cursor:pointer;transition:transform .18s;}
    .food-item:hover{transform:scale(1.06);}

    footer{padding:22px 48px;color:rgba(43,43,58,0.7);font-size:0.9rem;display:flex;justify-content:space-between;align-items:center;}

    /* Like button */
    .like-btn{
      display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;background:linear-gradient(90deg,#ffffff,#fff8);border:1px solid rgba(0,0,0,0.06);cursor:pointer;font-weight:700;
    }
    .pulse{
      animation:pop .6s ease forwards;
    }
    @keyframes pop{
      0%{transform:scale(1);}
      50%{transform:scale(1.25);}
      100%{transform:scale(1);}
    }

    /* responsive */
    @media (max-width:900px){
      header{flex-direction:column;gap:18px;padding:28px;}
      #three-wrap{width:100%;height:46vh;min-height:240px;}
    }
  </style>
</head>
<body>
  <nav>
    <button id="theme-toggle">åˆ‡æ›è‰²èª¿</button>
    <button id="focus-btn">çŒœçŒœæˆ‘çš„é¡˜æœ›å§ âœ¨</button>
  </nav>

  <header>
    <div class="intro">
      <h1>å—¨æˆ‘æ˜¯å¤§èŒ—~</h1>
      <p>èˆˆè¶£ï¼šè¿½æ˜Ÿã€çœ‹åŠ‡ã€åšç”œé»ã€çœ‹å°èªª</p>

      <div class="taglist">
        <div class="tag">è¿½æ˜Ÿ</div>
        <div class="tag">æ‰‹ä½œæ–™ç†</div>
        <div class="tag">ç¨è™•</div>
      </div>

      <div style="margin-top:14px;">
        <button class="like-btn" id="like">â¤ å–œæ­¡</button>
      </div>
    </div>

    <div id="three-wrap"></div>
  </header>

  <main>
    <section class="card" id="stars">
      <h3>æˆ‘çš„è¿½æ˜Ÿæ¸…å–®</h3>
      <p>éŒ¢å»å“ªäº†~</p>
      <ul style="margin-top:10px;">
        <li>NCTğŸ’š</li>
        <li>RIIZEğŸ§¡</li>
      </ul>
    </section>

    <section class="card" id="food">
      <h3>æˆ‘æ„›åšçš„é£Ÿç‰©</h3>
      <p>ç…§æˆ‘çš„å£å‘³åš</p>
      <div class="food-list">
        <div class="food-item">å¥¶æ²¹é¤…ä¹¾</div>
        <div class="food-item">å·´æ–¯å…‹è›‹ç³•</div>
        <div class="food-item">ç‘ªå¾·è“®</div>
        <div class="food-item">ç³–é¤…</div>
      </div>
    </section>

    <section class="card" id="wish">
      <h3>é¡˜æœ›ç‰†</h3>
      <p>è¨±é¡˜å§ âœ¨</p>
      <input id="wish-input" type="text" placeholder="è¼¸å…¥ä½ çš„é¡˜æœ›" style="width:100%;padding:10px;margin-top:8px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);box-sizing:border-box">
    </section>

    
  </main>

  <footer>
    <div>To a bright future </div>
    <div>Made by mimi</div>
  </footer>

  <script>
    /* ---------------------------
       jQuery äº’å‹•ç‰¹æ•ˆï¼ˆç°¡å–®ï¼‰
       --------------------------- */
    $(function(){
      // å¦‚æŒ‰è®šå‹•ç•«
      $('#like').on('click', function(){
        $(this).addClass('pulse');
        setTimeout(()=> $(this).removeClass('pulse'), 700);
        $(this).text(function(i, t){ return t.includes('è¶…') ? 'â¤ å–œæ­¡' : 'â¤ å·²å–œæ­¡'; });
      });

      // é£Ÿç‰©é»æ“Šé¡¯ç¤ºæé†’
      $('.food-item').on('click', function(){
        const txt = $(this).text();
        $('<div/>').text('æƒ³åƒ' + txt)
          .css({
            position:'fixed',left:'50%',top:'20%',transform:'translateX(-50%)',
            padding:'12px 18px',background:'rgba(255,255,255,0.9)',borderRadius:12,boxShadow:'0 8px 24px rgba(0,0,0,0.12)',zIndex:9999
          }).appendTo('body').fadeIn(120).delay(900).fadeOut(400,function(){ $(this).remove(); });
      });

      // theme toggle: åè½‰æ¼¸å±¤
      let dark=false;
      $('#theme-toggle').on('click', ()=>{
        dark = !dark;
        if(dark){
          document.documentElement.style.setProperty('--c-bg-1','#e6f7ff');
          document.documentElement.style.setProperty('--c-bg-2','#f0e6ff');
          document.documentElement.style.setProperty('--c-accent','#ffd6e0');
        }else{
          document.documentElement.style.setProperty('--c-bg-1','#ffd6e0');
          document.documentElement.style.setProperty('--c-bg-2','#f7d7ff');
          document.documentElement.style.setProperty('--c-accent','#b8f2e6');
        }
      });

      // focus æŒ‰éˆ•æœƒåœ¨ç•«é¢ä¸Šé£„å‡ºå°æ˜Ÿæ˜Ÿï¼ˆèˆ‡ three.js äº’å‹•ï¼‰
      $('#focus-btn').on('click', ()=>{
        // è§¸ç™¼ three.js çš„èšç„¦äº‹ä»¶ï¼ˆæœƒå¾€å…¨å±€ç™¼ eventï¼‰
        window.dispatchEvent(new CustomEvent('wishes:focus'));
      });

      // shortcut: æŒ‰ Enter æŠŠé¡˜æœ›æ”¾åˆ°ç•«é¢
      $('#wish-input').on('keydown', function(e){
        if(e.key === 'Enter'){
          const v = $(this).val().trim();
          if(!v) return;
          // é€å‡ºé¡˜æœ›äº‹ä»¶
          window.dispatchEvent(new CustomEvent('wishes:add',{detail:{text:v}}));
          $(this).val('');
        }
      });
    });

    /* ---------------------------
       three.js åŸºæœ¬ 3D å ´æ™¯ï¼šæ—‹è½‰çš„ torus + é¡˜æœ›ç²’å­
       --------------------------- */
    (function(){
      const container = document.getElementById('three-wrap');
      const scene = new THREE.Scene();

      // camera
      const w = container.clientWidth;
      const h = container.clientHeight;
      const camera = new THREE.PerspectiveCamera(45, w / h, 0.1, 1000);
      camera.position.set(0, 0, 6);

      // renderer
      const renderer = new THREE.WebGLRenderer({antialias:true, alpha:true});
      renderer.setSize(w, h);
      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
      container.appendChild(renderer.domElement);

      // lights
      const amb = new THREE.AmbientLight(0xffffff, 0.7);
      scene.add(amb);
      const pLight = new THREE.PointLight(0xffe6f2, 0.8);
      pLight.position.set(5,5,5);
      scene.add(pLight);

      // torus knotï¼ˆä¸»é«”ï¼‰
      const geometry = new THREE.TorusKnotGeometry(1.2, 0.35, 160, 24);
      const mat = new THREE.MeshStandardMaterial({
        color: 0xffd6e0,
        metalness: 0.45,
        roughness: 0.2,
        emissive: 0xf7d7ff,
        emissiveIntensity: 0.08,
        transparent:true,
        opacity:0.98
      });
      const knot = new THREE.Mesh(geometry, mat);
      knot.rotation.x = 0.4;
      scene.add(knot);

      // halo (è¼•å¾®å…‰æšˆæ•ˆæœï¼šç”¨å¦ä¸€å€‹æ”¾å¤§ã€é€æ˜æè³ª)
      const haloMat = new THREE.MeshBasicMaterial({color:0xf7d7ff, transparent:true, opacity:0.07});
      const halo = new THREE.Mesh(new THREE.TorusKnotGeometry(1.6,0.45,120,24), haloMat);
      scene.add(halo);

      // å°é¡˜æœ›ç²’å­ç³»çµ±ï¼ˆsprite pointsï¼‰
      const particles = new THREE.Group();
      scene.add(particles);
      function spawnParticle(text){
        // æ¯å€‹ç²’å­æœƒæ˜¯å°çƒï¼ŒåŠ ä¸Šç°¡å–®å‹•ç•«å±¬æ€§
        const g = new THREE.SphereGeometry(0.06,12,12);
        const c = new THREE.MeshStandardMaterial({color:0xb8f2e6, emissive:0xb8f2e6, emissiveIntensity:0.8, roughness:0.6});
        const m = new THREE.Mesh(g, c);
        m.position.set((Math.random()-0.5)*4, -1.2, (Math.random()-0.5)*2);
        m.userData = {vy: 0.02 + Math.random()*0.03, life: 300 + Math.random()*200, text: text};
        particles.add(m);

        // å»ºç«‹å°æ‡‰æ–‡å­—æç¤º DOMï¼ˆæ·¡å‡ºï¼‰
        const notif = document.createElement('div');
        notif.textContent = 'é¡˜æœ›ï¼š' + text;
        Object.assign(notif.style, {
          position:'absolute',left:'18px',bottom:'18px',padding:'8px 12px',background:'rgba(255,255,255,0.9)',borderRadius:'10px',boxShadow:'0 8px 24px rgba(0,0,0,0.12)'
        });
        document.body.appendChild(notif);
        setTimeout(()=> notif.remove(), 1800);
      }

      // resize
      window.addEventListener('resize', onResize);
      function onResize(){
        const w = container.clientWidth, h = container.clientHeight;
        camera.aspect = w/h;
        camera.updateProjectionMatrix();
        renderer.setSize(w,h);
      }

      // animation loop
      let t = 0;
      function animate(){
        requestAnimationFrame(animate);
        t += 0.01;
        knot.rotation.y += 0.009;
        knot.rotation.x += 0.003;
        halo.rotation.y -= 0.0025;

        // update particles
        particles.children.forEach((p, i)=>{
          p.position.y += p.userData.vy;
          p.userData.life -= 1;
          p.material.opacity = Math.max(0, p.userData.life / 500);
          p.scale.setScalar(0.8 + Math.sin(t*1.5 + i)*0.08);
          if(p.userData.life <= 0){
            particles.remove(p);
          }
        });

        renderer.render(scene, camera);
      }
      animate();

      // é»æ“Š header ä¸Šçš„èšç„¦æŒ‰éˆ•æœƒç”¢ç”Ÿå¤šé¡†é¡˜æœ›æ˜Ÿå’Œç›¸æ©ŸçŸ­æš«æ”¾å¤§ï¼ˆèšç„¦å‹•ç•«ï¼‰
      window.addEventListener('wishes:focus', ()=>{
        // ç”¢ç”Ÿ 12 é¡†ç²’å­
        for(let i=0;i<15;i++) spawnParticle('è¨±é¡˜å§');
        // ç›¸æ©ŸçŸ­æš«å‹•ç•«ï¼ˆç°¡æ˜“ï¼‰
        const origZ = camera.position.z;
        let step = 0;
        const focusInterval = setInterval(()=>{
          step++;
          camera.position.z = origZ - Math.sin(step/6)*1.2;
          if(step>36){ clearInterval(focusInterval); camera.position.z = origZ; }
        }, 16);
      });

      // åŠ å…¥æ–‡å­—é¡˜æœ›ï¼ˆä¾†è‡ªè¼¸å…¥ï¼‰
      window.addEventListener('wishes:add', (e)=>{
        spawnParticle(e.detail.text || 'é¡˜æœ›');
      });

      // é é¢è¼‰å…¥æ™‚å…ˆç”¢ç”Ÿäº›å¾®ç²’å­
      for(let i=0;i<6;i++){ spawnParticle('æ˜¯ä»€éº¼'); }

    })();
  </script>
</body>
</html>

